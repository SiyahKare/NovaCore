# Cloudflare Tunnel Configuration
# Bu dosya cloudflared ile tunnel yapılandırması için kullanılır
# 
# Token kullanımı (Önerilen):
#   cloudflared tunnel run --token $CLOUDFLARE_TUNNEL_TOKEN
#
# Credentials file kullanımı:
#   credentials-file satırını aktif et ve dosyayı oluştur

tunnel: novacore-tunnel
# credentials-file: /root/.cloudflared/credentials.json

ingress:
  # Backend API (FastAPI)
  - hostname: api.novacore.siyahkare.com
    service: http://localhost:8000
    originRequest:
      noHappyEyeballs: true
      connectTimeout: 30s
      tcpKeepAlive: 30s
      keepAliveConnections: 100
      keepAliveTimeout: 90s
      httpHostHeader: api.novacore.siyahkare.com

  # Frontend (Next.js)
  - hostname: novacore.siyahkare.com
    service: http://localhost:3000
    originRequest:
      noHappyEyeballs: true
      connectTimeout: 30s
      tcpKeepAlive: 30s
      keepAliveConnections: 100
      keepAliveTimeout: 90s
      httpHostHeader: novacore.siyahkare.com

  # Catch-all (404)
  - service: http_status:404

